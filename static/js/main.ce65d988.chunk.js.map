{"version":3,"sources":["components/gallery/topics/topics.module.scss","components/modal/photo/info/info.module.scss","components/modal/photo/author/author.module.scss","components/search/search.module.scss","components/gallery/photos/image/image.module.scss","hooks/useWindowResize.js","hooks/useKeyPress.js","hooks/useScrollElement.js","hooks/useThumbnailSize.js","assets/search.svg","assets/reset.svg","components/search/form/Form.js","hooks/useFetchSuggestions.js","hooks/useDebounce.js","hooks/useOnClickOutside.js","components/search/Search.js","components/gallery/photos/tags/Tags.js","components/gallery/photos/image/Image.js","components/gallery/photos/Photos.js","assets/arrow.svg","components/gallery/topics/Topics.js","variables.js","components/gallery/Gallery.js","hooks/useFetchSearched.js","hooks/useFetchPhotos.js","hooks/useScrollGallery.js","assets/likes.svg","assets/collection.svg","components/modal/photo/author/Author.js","components/modal/photo/image/Image.js","hooks/useImageSize.js","assets/location.svg","assets/share.svg","assets/information.svg","components/modal/photo/info/Info.js","hooks/useEllipsisActive.js","components/modal/photo/Photo.js","assets/close.svg","components/modal/Modal.js","hooks/useFetchImage.js","pages/404.js","pages/App.js","index.js","components/gallery/gallery.module.scss","components/modal/photo/image/image.module.scss","components/gallery/photos/tags/tags.module.scss","components/gallery/photos/photos.module.scss","components/modal/modal.module.scss","components/search/form/form.module.scss","components/modal/photo/photo.module.scss"],"names":["module","exports","useWindowResize","useState","width","window","innerWidth","height","innerHeight","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","key","upHandler","useScrollElement","handler","element","listener","event","useThumbnailSize","ref","image","property","windowResize","size","setSize","columnGapStyle","document","documentElement","getComputedStyle","getPropertyValue","gapValue","parseFloat","current","getBoundingClientRect","getThumbnailSize","parentNode","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgSearch","_ref","svgRef","title","titleId","props","xmlns","viewBox","id","ForwardRef","SvgReset","Form","useParams","history","useHistory","inputRef","useRef","listRef","option","setOption","value","setValue","hasFocus","setFocus","suggestions","query","setSuggestions","endpoint","fetch","then","res","json","data","autocomplete","useFetchSuggestions","delay","debouncedValue","setDebouncedValue","setTimeout","clearTimeout","useDebounce","arrowDownPress","arrowUpPress","addStyles","styles","minor","major","searchPhotos","preventDefault","suggestion","push","refs","map","contains","every","isOut","useOnClickOutside","maxOption","activeElement","searchButton","className","search","type","onClick","resetButton","hidden","reset","visibleSuggestions","listItems","index","item","aria-selected","role","onMouseEnter","listbox","list","form","onSubmit","combobox","aria-expanded","aria-haspopup","aria-owns","input","aria-activedescendant","onChange","onFocus","autoComplete","aria-autocomplete","aria-controls","name","placeholder","autoCapitalize","spellCheck","required","Search","background","header_wrapper","info","link","Tags","tags","wrapper","tag","Image","photo","location","useLocation","figureRef","author","thumbnail","src","user","profile_image","small","blurhash","hash","blur_hash","urls","alt_description","alt","to","pathname","state","figure","style","Photos","photos","options","transitionDuration","SvgArrow","Topics","topics","wrapperRef","setScroll","forwardVisible","setForward","backwardVisible","setBackward","scoochCount","ptc","scrollLeft","scrollWidth","clientWidth","scrollTo","backwardButton","button","backward_button","currScroll","maxScroll","scrollBy","Math","ceil","forwardButton","topicLinks","topic","scroller","scroller__backward_shadow","scroller__forward_shadow","Gallery","page","setPage","initPhotos","setData","results","related_searches","useFetchSearched","morePhotos","setPhotos","useFetchPhotos","bottomPos","scrollPos","setScrollPos","docHeight","setDocHeight","scrollBottom","useMemo","scrollY","body","offsetHeight","handleScroll","useScrollGallery","allPhotos","setAllPhotos","oldPhotos","gallery_search","topic_wrapper","SvgLikes","SvgCollection","Author","like","setLike","username","collection","collection_liked","details","container","ratio","getImageSize","useImageSize","regular","alt_desctiption","SvgLocation","SvgShare","SvgInformation","Info","description","information","Location","Description","unfold","setUnfold","textRef","ellipsisActive","isActive","setActive","offsetWidth","getEllipsis","useEllipsisActive","text_unfold","text","Photo","SvgClose","Modal","modalRef","photoId","setImage","useFetchImage","modal","stopPropagation","goBack","close_button","NotFound","App","ModalSwitch","exact","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ce65d988.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"topics_wrapper__2oEje\",\"scroller\":\"topics_scroller__1-5so\",\"scroller__backward_shadow\":\"topics_scroller__backward_shadow__zH3i6\",\"scroller__forward_shadow\":\"topics_scroller__forward_shadow__2Fogb\",\"topics\":\"topics_topics__2wK9Z\",\"topic\":\"topics_topic__1eiFw\",\"title\":\"topics_title__yhXk9\",\"button\":\"topics_button__MYu1w\",\"backward_button\":\"topics_backward_button__3irTW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"info_wrapper__3pBcC\",\"information\":\"info_information__2MJrR\",\"location\":\"info_location__1HtXd\",\"description\":\"info_description__GCmYq\",\"text\":\"info_text__2fJnu\",\"text_unfold\":\"info_text_unfold__1Nd5l\",\"unfold\":\"info_unfold__3J5nE\",\"button\":\"info_button__1KNas\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"author_wrapper__3mwID\",\"author\":\"author_author__Njcu2\",\"name\":\"author_name__3MQR4\",\"username\":\"author_username__2TPtG\",\"image\":\"author_image__1LOPS\",\"collection\":\"author_collection__RbzMv\",\"collection_liked\":\"author_collection_liked__2edI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"search_background__32Iqx\",\"header_wrapper\":\"search_header_wrapper__1hfFN\",\"title\":\"search_title__3X1cz\",\"link\":\"search_link__1FNQU\",\"info\":\"search_info__1q23A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"figure\":\"image_figure__2-M9T\",\"author\":\"image_author__bC6fT\",\"image\":\"image_image__2JYv6\",\"blurhash\":\"image_blurhash__nqT7_\",\"name\":\"image_name__1pEIs\",\"thumbnail\":\"image_thumbnail__26aqo\"};","import { useState, useEffect } from 'react';\r\n\r\nexport default function useWindowResize() {\r\n  const [ windowSize, setWindowSize ] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight\r\n  });\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowSize;\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useKeyPress(targetKey) {\r\n  const [ keyPressed, setKeyPressed ] = useState(false);\r\n\r\n  function downHandler({ key }) {\r\n    if (key === targetKey) {\r\n      setKeyPressed(true);\r\n    }\r\n  }\r\n\r\n  const upHandler = ({ key }) => {\r\n    if (key === targetKey) {\r\n      setKeyPressed(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', downHandler);\r\n    window.addEventListener('keyup', upHandler);\r\n    \r\n    return () => {\r\n      window.removeEventListener('keydown', downHandler);\r\n      window.removeEventListener('keyup', upHandler);\r\n    };\r\n  }, []);\r\n\r\n  return keyPressed;\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function useScrollElement(handler, [element]) {\r\n  useEffect(\r\n    () => {\r\n      function listener(event) {\r\n        handler(event);\r\n      };\r\n\r\n      if (!element) return; \r\n      element.addEventListener('scroll', listener);\r\n\r\n      return () => {\r\n        element.removeEventListener('scroll', listener);\r\n      };\r\n    },\r\n    [handler, element]\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport useWindowResize from './useWindowResize';\r\n\r\nfunction getStyles(element, property) {\r\n  return getComputedStyle(element).getPropertyValue(property);\r\n};\r\n\r\n\r\n// I must find better way to position images and blurhash\r\n// it works but it is not a clean code\r\nexport default function useThumbnailSize(ref, image) {\r\n  const windowResize = useWindowResize();\r\n  const [ size, setSize ] = useState();\r\n  const columnGapStyle = getStyles(document.documentElement, '--columns-gap');\r\n  const gapValue = parseFloat(columnGapStyle);\r\n\r\n  useEffect(\r\n    () => {\r\n      function getThumbnailSize(image) {\r\n        const container = ref.current.getBoundingClientRect();\r\n        const width = container.width;\r\n        const height = (width * image.height) / image.width;\r\n\r\n        setSize({ width, height })\r\n      };\r\n\r\n      getThumbnailSize(image);\r\n    },\r\n    [ref, image]\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      function getThumbnailSize(image) {\r\n        const container = ref.current.parentNode.parentNode.getBoundingClientRect();\r\n        const width = container.width - gapValue;\r\n        const height = (width * image.height) / image.width;\r\n        \r\n        setSize({ width, height })\r\n      };\r\n\r\n      if (size) {\r\n        getThumbnailSize(image);\r\n      }\r\n    },\r\n    [windowResize]\r\n  );\r\n\r\n  return size;\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 20c1.2-1.6 2-3.7 2-6 0-5.5-4.5-10-10-10S4 8.5 4 14s4.5 10 10 10c2.3 0 4.3-.7 6-2l6.1 6 1.9-2-6-6zm-8 1.3c-4 0-7.3-3.3-7.3-7.3S10 6.7 14 6.7s7.3 3.3 7.3 7.3-3.3 7.3-7.3 7.3z\"\n});\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.ffe42e65.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.33 8.55l-1.88-1.88-7.45 7.45-7.45-7.45-1.88 1.88 7.45 7.45-7.45 7.45 1.88 1.88 7.45-7.45 7.45 7.45 1.88-1.88-7.45-7.45z\"\n});\n\nfunction SvgReset(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReset);\nexport default __webpack_public_path__ + \"static/media/reset.3b22bfd3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport {\r\n  useKeyPress,\r\n  useFetchSuggestions,\r\n  useOnClickOutside,\r\n  useDebounce\r\n} from '../../../hooks/';\r\nimport { ReactComponent as SearchSvg } from '../../../assets/search.svg';\r\nimport { ReactComponent as ResetSvg } from '../../../assets/reset.svg';\r\nimport styles from './form.module.scss';\r\n\r\nexport default function Form() {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const inputRef = useRef();\r\n  const listRef = useRef();\r\n  const [ option, setOption ] = useState(-1);\r\n  const [ value, setValue ] = useState('');\r\n  const [ hasFocus, setFocus ] = useState(false);\r\n  const debouncedValue = useDebounce(value, 300);\r\n  const suggestions = useFetchSuggestions(debouncedValue);\r\n  const arrowDownPress = useKeyPress('ArrowDown');\r\n  const arrowUpPress = useKeyPress('ArrowUp');\r\n  const addStyles = id ? styles.minor : styles.major;\r\n\r\n  useOnClickOutside(\r\n    () => {\r\n      setFocus(false)\r\n    },\r\n    [listRef, inputRef]\r\n  );\r\n\r\n  useEffect(() => setValue(''), [id]);\r\n\r\n  useEffect(\r\n    () => {\r\n      const maxOption = suggestions?.length - 1;\r\n      const isFocus = document.activeElement === inputRef.current;\r\n\r\n      if (isFocus && value.length >= 3) {\r\n        if (arrowDownPress) {\r\n          if (maxOption === option) {\r\n            setOption(0);\r\n          } else {\r\n            setOption(option + 1);\r\n          }\r\n        } else if (arrowUpPress) {\r\n          if (option === 0) {\r\n            setOption(maxOption)\r\n          } else {\r\n            setOption(option - 1)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [arrowDownPress, arrowUpPress]\r\n  );\r\n\r\n  function resetQuery() {\r\n    setValue('');\r\n    setOption(-1);\r\n  }\r\n\r\n  function changeQuery(event) {\r\n    const value = event.target.value;\r\n    setValue(value);\r\n    setOption(-1);\r\n  }\r\n\r\n  function searchPhotos(event, id) {\r\n    event.preventDefault();\r\n    const suggestion = suggestions && suggestions[option]?.query;\r\n    const query = id || suggestion || value;\r\n\r\n    if (!query) return;\r\n    history.push(`/s/photos/${query}/`)\r\n  }\r\n\r\n  const searchButton = (\r\n    <button\r\n      className={`${styles.search} ${addStyles}`}\r\n      title='Search Unsplash'\r\n      type='submit'\r\n      onClick={searchPhotos}\r\n    >\r\n      <SearchSvg />\r\n    </button>\r\n  )\r\n\r\n  const resetButton = (\r\n    <button\r\n      hidden={!value}\r\n      className={`${styles.reset} ${addStyles}`}\r\n      onClick={resetQuery}\r\n    >\r\n      <ResetSvg />\r\n    </button>\r\n  )\r\n\r\n  const visibleSuggestions = hasFocus && suggestions && value.length >= 3;\r\n  let listItems = <></>;\r\n\r\n  if (visibleSuggestions) {\r\n    if (suggestions.length) {\r\n      listItems = suggestions.map((suggestion, index) => (\r\n        <li\r\n          key={index}\r\n          className={styles.item}\r\n          aria-selected={option === index}\r\n          id={`autocomplete-search--item-${index}`}\r\n          role='option'\r\n          onMouseEnter={() => setOption(index)}\r\n          onClick={(event) => searchPhotos(event, suggestion.query)}\r\n        >\r\n          <div>{suggestion.query}</div>\r\n        </li>\r\n      ));\r\n\r\n    } else {\r\n      listItems = (\r\n        <li\r\n          className={styles.item}\r\n          role='option'\r\n          aria-selected='false'\r\n          id='autocomplete-search--item-0'\r\n        >\r\n          <div>no matching photos</div>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n\r\n  let listbox = (\r\n    <div\r\n      ref={listRef}\r\n      className={`${styles.listbox} ${!visibleSuggestions && styles.hidden}`}\r\n      role='listbox'\r\n      id='autocomplete-search'\r\n    >\r\n      <ul className={styles.list} role='listbox'>\r\n        {listItems}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <form\r\n      className={`${styles.form} ${addStyles}`}\r\n      onSubmit={searchPhotos}\r\n    >\r\n      {searchButton}\r\n      <div\r\n        className={styles.combobox}\r\n        aria-expanded={visibleSuggestions}\r\n        role='combobox'\r\n        aria-haspopup='listbox'\r\n        aria-owns='autocomplete-search'\r\n      >\r\n        <input\r\n          value={value}\r\n          ref={inputRef}\r\n          className={styles.input}\r\n          aria-activedescendant={option > -1 && `autocomplete-search--item-${option}`}\r\n          onChange={changeQuery}\r\n          onFocus={() => setFocus(true)}\r\n          type='search'\r\n          autoComplete='off'\r\n          aria-autocomplete='list'\r\n          aria-controls='autocomplete-search'\r\n          name='searchKeyword'\r\n          placeholder='Search photos'\r\n          title='Search Unsplash'\r\n          autoCapitalize='none'\r\n          spellCheck='false'\r\n          required\r\n        />\r\n        {listbox}\r\n      </div>\r\n      {resetButton}\r\n    </form>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useFetchSuggestions (query) {\r\n  const [ suggestions, setSuggestions ] = useState();\r\n\r\n  useEffect(\r\n    () => {\r\n      // to break up cors, because autocomplete is not a part of Unsplash API\r\n      const endpoint = `https://unsplash.com/nautocomplete/${query}`;\r\n\r\n      if (query) {\r\n        fetch(`https://cors-anywhere.herokuapp.com/${endpoint}`)\r\n          .then(res => res.json())\r\n          .then(data => setSuggestions(data.autocomplete))\r\n      }\r\n    },\r\n    [query]\r\n  );\r\n\r\n  return suggestions;\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(\r\n    () => {\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n\r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    [value, delay]\r\n  );\r\n\r\n  return debouncedValue;\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function useOnClickOutside(handler, [...refs]) {\r\n  useEffect(\r\n    () => {\r\n      function listener(event) {\r\n        const isOutside = refs\r\n          .map(ref => !(!ref.current || ref.current.contains(event.target)))\r\n          .every(isOut => isOut);\r\n\r\n        if (!isOutside) return;\r\n\r\n        handler(event);\r\n      };\r\n\r\n      document.addEventListener('mousedown', listener);\r\n      document.addEventListener('touchstart', listener);\r\n\r\n      return () => {\r\n        document.removeEventListener('mousedown', listener);\r\n        document.removeEventListener('touchstart', listener);\r\n      };\r\n    },\r\n    [handler, refs]\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Form from './form/Form';\r\nimport styles from './search.module.scss';\r\n\r\nexport default function Search() {\r\n  return (\r\n    <div className={styles.background}>\r\n      <div className={styles.header_wrapper}>\r\n        <h1 className={styles.title}>Unsplash</h1>\r\n        <div>\r\n          <p className={styles.info}>\r\n            {'The internet’s source of '}\r\n            <span className={styles.link}>freely-usable images</span>\r\n            {'.'}\r\n          </p>\r\n          <p className={styles.info}>Powered by creators everywhere.</p>\r\n          <Form />\r\n        </div>\r\n        <p>Trending: flower, wallpapers, backgrounds, happy, love</p>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport styles from './tags.module.scss';\r\n\r\nexport default function Tags({ tags }) {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      { tags.map((tag, index) => (\r\n        <div key={index}>\r\n          <span className={styles.tag}>{tag.title}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Blurhash } from 'react-blurhash';\r\nimport { useThumbnailSize } from '../../../../hooks/';\r\nimport styles from './image.module.scss';\r\n\r\nexport default function Image({ photo }) {\r\n  const location = useLocation();\r\n  const figureRef = useRef();\r\n  const size = useThumbnailSize(figureRef, photo);\r\n\r\n  const author = (\r\n    <div className={styles.author}>\r\n      <div>\r\n        <img\r\n          className={styles.thumbnail}\r\n          src={photo.user.profile_image.small}\r\n        />\r\n      </div>\r\n      <span className={styles.name}>{photo.user.name}</span>\r\n    </div>\r\n  );\r\n\r\n  const blurhash = (\r\n    <Blurhash\r\n      className={styles.blurhash}\r\n      hash={photo.blur_hash}\r\n      width={size?.width}\r\n      height={size?.height}\r\n    />\r\n  );\r\n\r\n  const image = (\r\n    <img\r\n      className={styles.image}\r\n      src={photo.urls.small}\r\n      title={photo.alt_description}\r\n      alt={photo.alt_description}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: `/photos/${photo.id}`,\r\n        state: { background: location }\r\n      }}\r\n    >\r\n      <div\r\n        ref={figureRef}\r\n        className={styles.figure}\r\n        style={{\r\n          width: size?.width,\r\n          height: size?.height\r\n        }}\r\n      >\r\n        {author}\r\n        {size && photo.blur_hash && blurhash}\r\n        {image}\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Masonry from 'react-masonry-component';\r\nimport Tags from './tags/Tags';\r\nimport Image from './image/Image';\r\nimport styles from './photos.module.scss';\r\n\r\nexport default function Photos({ photos }) {\r\n  const masonryOptions = {\r\n    transitionDuration: 0\r\n  };\r\n\r\n  return (\r\n    <Masonry className={styles.wrapper} options={masonryOptions}>\r\n      { photos.map(photo => (\r\n        <li className={styles.item} key={photo.id}>\r\n          <Image photo={photo} />\r\n          <Tags tags={photo.tags} />\r\n        </li>\r\n      ))}\r\n    </Masonry>\r\n  );\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.3333 7.3333l2-2L24 16 13.3333 26.6666l-2-2L20 16l-8.6667-8.6667z\"\n});\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.99638066.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useScrollElement } from '../../../hooks/';\r\nimport { MOBILESCROLL, DESKTOPSCROLL } from '../../../variables';\r\nimport { ReactComponent as ArrowSvg } from '../../../assets/arrow.svg';\r\nimport styles from './topics.module.scss';\r\n\r\nexport default function Topics({ topics }) {\r\n  const { id } = useParams();\r\n  const wrapperRef = useRef();\r\n  const [ scroll, setScroll ] = useState(0);\r\n  const [ forwardVisible, setForward ] = useState(false);\r\n  const [ backwardVisible, setBackward ] = useState(false);\r\n  const scoochCount = window.innerWidth <= 768 ? MOBILESCROLL : DESKTOPSCROLL;\r\n\r\n  useScrollElement(\r\n    () => {\r\n      const currScroll = wrapperRef.current.scrollLeft;\r\n      const maxScroll = wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth;\r\n      const ptc = currScroll / maxScroll || 0;\r\n\r\n      if (ptc > 0.1) {\r\n        setBackward(false);\r\n      } else {\r\n        setBackward(true);\r\n      }\r\n\r\n      if (ptc < 0.9) {\r\n        setForward(false);\r\n      } else {\r\n        setForward(true);\r\n      }\r\n    },\r\n    [wrapperRef.current]\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      setScroll(0);\r\n      setForward(false);\r\n      setBackward(true);\r\n      wrapperRef.current.scrollTo(0, 0);\r\n    },\r\n    [id]\r\n  );\r\n\r\n  function handleForward() {\r\n    const currScroll = wrapperRef.current.scrollLeft;\r\n    const maxScroll = wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth;\r\n    const scrollBy = Math.ceil(maxScroll / scoochCount) + 1;\r\n\r\n    wrapperRef.current.scrollBy(scrollBy, 0);\r\n    setScroll(currScroll || scrollBy);\r\n  };\r\n\r\n  function handleBackword() {\r\n    const currScroll = wrapperRef.current.scrollLeft;\r\n    const maxScroll = wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth;\r\n    const scrollBy = Math.ceil(maxScroll / scoochCount) + 1;\r\n\r\n    wrapperRef.current.scrollBy(-scrollBy, 0);\r\n    setScroll(currScroll);\r\n  };\r\n\r\n  const backwardButton = (\r\n    <button\r\n      className={`${styles.button} ${styles.backward_button}`}\r\n      hidden={backwardVisible}\r\n      onClick={handleBackword}\r\n    >\r\n      <ArrowSvg />\r\n    </button>\r\n  );\r\n\r\n  const forwardButton = (\r\n    <button\r\n      className={styles.button}\r\n      hidden={forwardVisible}\r\n      onClick={handleForward}\r\n    >\r\n      <ArrowSvg />\r\n    </button>\r\n  );\r\n\r\n  const topicLinks = topics.map((topic, index) => (\r\n    <div\r\n      key={index}\r\n      title={topic.title}\r\n      className={styles.topic}\r\n    >\r\n      <Link to={`/s/photos/${topic.title}/`}>\r\n        <span className={styles.title}>{topic.title}</span>\r\n      </Link>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      {backwardButton}\r\n      {forwardButton}\r\n      <div\r\n        ref={wrapperRef}\r\n        className={`\r\n          ${styles.scroller}\r\n          ${!backwardVisible && styles.scroller__backward_shadow}\r\n          ${!forwardVisible && styles.scroller__forward_shadow}\r\n        `}\r\n      >\r\n        <div className={styles.topics}>\r\n          {topicLinks}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const PERPAGE = 20;\r\nexport const INITPAGE = 2;\r\nexport const RATIO = 0.75;\r\nexport const PAGE = 2;\r\nexport const MOBILESCROLL = 5;\r\nexport const DESKTOPSCROLL = 3;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useScrollGallery, useFetchSearched, useFetchPhotos } from '../../hooks/';\r\nimport { PAGE } from '../../variables';\r\nimport Photos from './photos/Photos';\r\nimport Topics from './topics/Topics';\r\nimport Form from '../search/form/Form';\r\nimport styles from './gallery.module.scss';\r\n\r\nexport default function Gallery() {\r\n  const { id } = useParams();\r\n  const [ page, setPage ] = useState(0);\r\n  const { initPhotos, topics } = useFetchSearched(id);\r\n  const morePhotos = useFetchPhotos(id, page);\r\n  const bottomPos = useScrollGallery();\r\n\r\n  // I want to fetch data the same way unsplash.com does:\r\n  // fetch related topics and first 20 photos at once,\r\n  // and fetch next photos onScrollBottom from different endpoint\r\n  const [allPhotos, setAllPhotos] = useState([]);\r\n\r\n  useEffect(() => setAllPhotos(initPhotos), [initPhotos]);\r\n\r\n  useEffect(\r\n    () => {\r\n      setAllPhotos(oldPhotos => [...oldPhotos, ...morePhotos]);\r\n    },\r\n    [morePhotos]\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (bottomPos) setPage(page + PAGE)\r\n    },\r\n    [bottomPos]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.gallery_search}>\r\n        <Form />\r\n      </div>\r\n      <div className={styles.topic_wrapper}>\r\n        <h1 className={styles.topic}>{id}</h1>\r\n        <Topics topics={topics} />\r\n      </div>\r\n      <Photos photos={allPhotos} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { PERPAGE } from '../variables';\r\n\r\nexport default function useFetchSearched(query) {\r\n  const [ data, setData ] = useState({\r\n    initPhotos: [],\r\n    topics: []\r\n  });\r\n\r\n  useEffect(\r\n    () => {\r\n      // to break up cors, because related_searches is not a part of Unsplash API\r\n      const endpoint = `https://unsplash.com/napi/search?query=${query}&per_page=${PERPAGE}`;\r\n\r\n      fetch(`https://cors-anywhere.herokuapp.com/${endpoint}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setData({\r\n            initPhotos: data.photos.results,\r\n            topics: data.related_searches\r\n          })\r\n        })\r\n    },\r\n    [query]\r\n  );\r\n\r\n  return data;\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { INITPAGE, PERPAGE } from '../variables';\r\n\r\nexport default function useFetchPhotos(query, page) {\r\n  const [ photos, setPhotos ] = useState([]);\r\n\r\n  useEffect(\r\n    () => {\r\n      const endpoint = `https://unsplash.com/napi/search/photos?query=${query}&per_page=${PERPAGE}&page=${page}`\r\n\r\n      if (page >= INITPAGE) {\r\n        fetch(`https://cors-anywhere.herokuapp.com/${endpoint}`)\r\n          .then(res => res.json())\r\n          .then(data => setPhotos(data.results))\r\n      }\r\n    },\r\n    [page]\r\n  );\r\n\r\n  return photos;\r\n};\r\n","import { useState, useEffect, useMemo } from 'react';\r\nimport useScrollElement from './useScrollElement';\r\nimport { RATIO } from '../variables';\r\n\r\nexport default function useScrollGallery() {\r\n  const [ scrollPos, setScrollPos ] = useState();\r\n  const [ docHeight, setDocHeight ] = useState();\r\n\r\n  const scrollBottom = useMemo(\r\n    () => {\r\n      const docHeightRatio = docHeight * RATIO;\r\n      return scrollPos >= docHeightRatio\r\n    },\r\n    [scrollPos, docHeight]\r\n  );\r\n\r\n  useScrollElement(\r\n    () => {\r\n      function handleScroll() {\r\n        const scrollPos = window.innerHeight + window.scrollY;\r\n        const docHeight = document.body.offsetHeight;\r\n        setScrollPos(scrollPos);\r\n        setDocHeight(docHeight);\r\n      };\r\n\r\n      handleScroll();\r\n    },\r\n    [window]\r\n  );\r\n\r\n  return scrollBottom;\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.4 29c-.8.8-2 .8-2.8 0l-12.3-12.8c-3.1-3.1-3.1-8.2 0-11.4 3.1-3.1 8.2-3.1 11.3 0l2.4 2.8 2.3-2.8c3.1-3.1 8.2-3.1 11.3 0 3.1 3.1 3.1 8.2 0 11.4l-12.2 12.8z\"\n});\n\nfunction SvgLikes(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLikes);\nexport default __webpack_public_path__ + \"static/media/likes.3719407f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 3h4v26h-4zM29 14v4h-26v-4z\"\n});\n\nfunction SvgCollection(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCollection);\nexport default __webpack_public_path__ + \"static/media/collection.fa5576ca.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\r\nimport { ReactComponent as LikesSvg } from '../../../../assets/likes.svg';\r\nimport { ReactComponent as CollectionSvg } from '../../../../assets/collection.svg';\r\nimport styles from './author.module.scss';\r\n\r\nexport default function Author({ user }) {\r\n  const [ like, setLike ] = useState(false);\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.author}>\r\n        <div>\r\n          <img\r\n            className={styles.image}\r\n            src={user.profile_image.small}\r\n            alt={`Go to ${user.name}'s profile`}\r\n          />\r\n        </div>\r\n        <div>\r\n          <span className={styles.name}>{user.name}</span>\r\n          <span className={styles.username}>\r\n            {'@'}\r\n            {user.username}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={`${styles.collection} ${like ? styles.collection_liked : ''}`}\r\n        onClick={() => setLike(!like)}\r\n      >\r\n        <LikesSvg />\r\n      </button>\r\n      <button className={styles.collection}>\r\n        <CollectionSvg />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef } from 'react';\r\nimport { Blurhash } from 'react-blurhash';\r\nimport { useImageSize } from '../../../../hooks/';\r\nimport styles from './image.module.scss';\r\n\r\nexport default function Image({ details }) {\r\n  const figureRef = useRef();\r\n  const size = useImageSize(figureRef, details);\r\n\r\n  return (\r\n    <figure\r\n      ref={figureRef}\r\n      className={styles.wrapper}\r\n    >\r\n      <div className={styles.container}>\r\n        <Blurhash\r\n          hash={details.blur_hash}\r\n          width={size.width}\r\n          height={size.height}\r\n        />\r\n        <img\r\n          className={styles.image}\r\n          src={details.urls.regular}\r\n          alt={details.alt_desctiption}\r\n          style={{\r\n            width: size.width,\r\n            height: size.height\r\n          }}\r\n        />\r\n      </div>\r\n    </figure>\r\n  )\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport useWindowResize from './useWindowResize';\r\n\r\nexport default function useImageSize(ref, image) {\r\n  const windowSize = useWindowResize();\r\n  const [ size, setSize ] = useState({\r\n    width: 0,\r\n    height: 0\r\n  });\r\n\r\n  useEffect(\r\n    () => {\r\n      function getImageSize(image) {\r\n        const container = ref.current.getBoundingClientRect();\r\n        const ratio = image.height / image.width;\r\n        let height;\r\n        let width;\r\n\r\n        if (windowSize.width < 768) {\r\n          width = container.width;\r\n          height = (image.height * width) / image.width;\r\n\r\n        } else {\r\n          if (ratio < 0.7) {\r\n            width = container.width;\r\n            height = (image.height * width) / image.width;\r\n          } else {\r\n            height = container.height;\r\n            width = (image.width * height) / image.height;\r\n          }\r\n        }\r\n        setSize({ width, height })\r\n      };\r\n\r\n      getImageSize(image);\r\n    },\r\n    [image, windowSize]\r\n  );\r\n\r\n\r\n  return size;\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 2.66669C9.99998 2.66669 5.33331 7.06669 5.33331 12.6667C5.33331 19.8667 12.9333 27.0667 15.3333 29.0667C15.7333 29.4267 16.2666 29.4267 16.6666 29.0667C19.0666 27.0667 26.6666 19.8667 26.6666 12.6667C26.6666 7.06669 22 2.66669 16 2.66669ZM16 18.6667C13.0666 18.6667 10.6666 16.2667 10.6666 13.3334C10.6666 10.4 13.0666 8.00002 16 8.00002C18.9333 8.00002 21.3333 10.4 21.3333 13.3334C21.3333 16.2667 18.9333 18.6667 16 18.6667Z\"\n});\n\nfunction SvgLocation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLocation);\nexport default __webpack_public_path__ + \"static/media/location.5be73892.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 26v-7C7.1 19 1.6 27.7 0 31 0 20 3.6 8.8 16 7V0l16 13.3L16 26z\"\n});\n\nfunction SvgShare(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShare);\nexport default __webpack_public_path__ + \"static/media/share.78e77e0b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm2 25c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1v-12c0-.6.4-1 1-1h2c.6 0 1 .4 1 1v12zm0-16c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h2c.6 0 1 .4 1 1v2z\"\n});\n\nfunction SvgInformation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInformation);\nexport default __webpack_public_path__ + \"static/media/information.846ef8e9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useEllipsisActive } from '../../../../hooks/';\r\nimport { ReactComponent as LocationSvg } from '../../../../assets/location.svg';\r\nimport { ReactComponent as ShareSvg } from '../../../../assets/share.svg';\r\nimport { ReactComponent as InformationSvg } from '../../../../assets/information.svg';\r\nimport styles from './info.module.scss';\r\n\r\nexport default function Info ({ location, description }) {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.information}>\r\n        <Location location={location.name} />\r\n        <Description description={description} />\r\n      </div>\r\n      <button className={styles.button}>\r\n        <ShareSvg />\r\n        <span>share</span>\r\n      </button>\r\n      <button className={styles.button}>\r\n        <InformationSvg />\r\n        <span>info</span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction Location({ location }) {\r\n  if (!location) return <></>;\r\n\r\n  return (\r\n    <div className={styles.location}>\r\n      <LocationSvg />\r\n      <span>{location}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Description({ description }) {\r\n  const [ unfold, setUnfold ] = useState(false);\r\n  const textRef = useRef();\r\n  const ellipsisActive = useEllipsisActive(textRef);\r\n\r\n  return (\r\n    <div className={styles.description}>\r\n      <p\r\n        ref={textRef}\r\n        className={`${unfold ? styles.text_unfold : styles.text}`}\r\n      >\r\n        {description}\r\n      </p>\r\n      {(!unfold && ellipsisActive) &&\r\n        <button\r\n          className={styles.unfold}\r\n          onClick={() => setUnfold(true)}\r\n        >\r\n          read more\r\n        </button>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useEllipsisActive(ref) {\r\n  const [ isActive, setActive ] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function getEllipsis(ref) {\r\n      const isActive = ref.current.offsetWidth < ref.current.scrollWidth;\r\n      setActive(isActive);\r\n    }\r\n    getEllipsis(ref);\r\n  }, [ref]);\r\n\r\n  return isActive;\r\n};\r\n","import React from 'react';\r\nimport Author from './author/Author';\r\nimport Image from './image/Image';\r\nimport Info from './info/Info';\r\nimport styles from './photo.module.scss';\r\n\r\nexport default function Photo({ details }) {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Author user={details.user} />\r\n      <Image details={details} />\r\n      <Info location={details.location} description={details.description}/>\r\n    </div>\r\n  )\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.33 8.55l-1.88-1.88-7.45 7.45-7.45-7.45-1.88 1.88 7.45 7.45-7.45 7.45 1.88 1.88 7.45-7.45 7.45 7.45 1.88-1.88-7.45-7.45z\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.3b22bfd3.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useFetchImage } from '../../hooks/';\r\nimport Photo from './photo/Photo';\r\nimport { ReactComponent as CloseSvg } from '../../assets/close.svg';\r\nimport styles from './modal.module.scss';\r\n\r\nexport default function Modal() {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const modalRef = useRef();\r\n  const details = useFetchImage(id);\r\n\r\n  function closeModal(event) {\r\n    if (modalRef.current !== event.target) return;\r\n    event.stopPropagation();\r\n    history.goBack();\r\n  };\r\n\r\n  if (!details) return <></>;\r\n  return(\r\n    <div\r\n      className={styles.modal}\r\n      ref={modalRef}\r\n      onClick={closeModal}\r\n    >\r\n      <button\r\n        className={styles.close_button}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        <CloseSvg />\r\n      </button>\r\n      <Photo details={details} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useFetchImage (photoId) {\r\n  const [image, setImage] = useState();\r\n\r\n  useEffect(\r\n    () => {\r\n      const endpoint = `https://unsplash.com/napi/photos/${photoId}`;\r\n\r\n      fetch(`https://cors-anywhere.herokuapp.com/${endpoint}`)\r\n        .then(res => res.json())\r\n        .then(data => setImage(data))\r\n    },\r\n    []\r\n  );\r\n\r\n  return image;\r\n};\r\n","import React from 'react';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <h1>Couldn't find any photos</h1>\r\n  )\r\n};\r\n","import React from 'react';\nimport { BrowserRouter, Switch, Route, useLocation } from 'react-router-dom';\n\nimport Search from '../components/search/Search';\nimport Gallery from '../components/gallery/Gallery';\nimport Modal from '../components/modal/Modal';\nimport NotFound from './404';\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <ModalSwitch />\n    </BrowserRouter>\n  );\n}\n\nfunction ModalSwitch() {\n  let location = useLocation();\n  let background = location.state && location.state.background;\n\n  return (\n    <div>\n      <Switch location={background || location}>\n        <Route exact path='/unsplash' component={Search} />\n        <Route path='/s/photos/:id' component={Gallery} />\n        <Route path='*' component={NotFound} />\n      </Switch>\n\n      {background && <Route path='/photos/:id' component={Modal} />}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/globals.scss';\n\nimport App from './pages/App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic_wrapper\":\"gallery_topic_wrapper__3BsyO\",\"topic\":\"gallery_topic__325ru\",\"gallery_search\":\"gallery_gallery_search__2D5M_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"image_wrapper__2j4Ad\",\"container\":\"image_container__3Mc9L\",\"image\":\"image_image__1-7gl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"tags_wrapper__2TAjE\",\"tag\":\"tags_tag__2F17d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"photos_wrapper__YWN15\",\"item\":\"photos_item__3CtaU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__3KlM3\",\"close_button\":\"modal_close_button__31GcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form_form__1DcJf\",\"minor\":\"form_minor__M7wed\",\"major\":\"form_major__2yxPa\",\"search\":\"form_search__2j8uJ\",\"reset\":\"form_reset__3N-hn\",\"combobox\":\"form_combobox__2L5vz\",\"input\":\"form_input__3Mea6\",\"listbox\":\"form_listbox__YfOHE\",\"hidden\":\"form_hidden__2T3c-\",\"list\":\"form_list__HGnD4\",\"item\":\"form_item__mDb7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"photo_wrapper__2DQ6q\"};"],"sourceRoot":""}